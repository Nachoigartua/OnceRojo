import{_ as G,b as t,d as N,c,a as u,e as w,w as k,T as C,o as d,f as D,F as M,r as z,n as B,g as R,t as T}from"./index-qTg48_2c.js";const F={class:"adivina-el-gol-wrapper text-white"},P={class:"video-container"},x=["src"],H={key:0,class:"respuestas-container"},J=["disabled","onClick"],L={key:0,class:"resultado"},Y={__name:"AdivinaElGol",setup(q){const l=t(null),v=t(0),p=t([]),s=t(""),r=t(null),h=t(!1),_=t(!1),f=t(!1),m=t(!1),y=t("");let i="";const n=t(!1),S=t(""),I=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const o=a-e,g=Math.floor(o/(1e3*60*60)),$=Math.floor(o%(1e3*60*60)/(1e3*60));S.value=`${g}h ${$}m`},b=()=>{const e=new Date().toISOString().slice(0,10),a=localStorage.getItem(`gol-respondido-${e}`),o=localStorage.getItem(`gol-seleccionada-${e}`);a&&(n.value=!0,r.value=o,I(),s.value="Ya respondiste hoy. Volvé a intentarlo en "+S.value)},E=()=>{const e=new Date().toISOString().slice(0,10);localStorage.setItem(`gol-respondido-${e}`,"respondido"),localStorage.setItem(`gol-seleccionada-${e}`,r.value),n.value=!0,I()};N(async()=>{const e=new Date().toISOString().slice(0,10);b();try{const a=await fetch("/OnceRojo/contenido_diario.json").then(o=>o.json());a[e]?(y.value=`/OnceRojo/videos/${a[e].video}`,p.value=a[e].respuestas,i=a[e].correcta):s.value="📅 No hay contenido cargado para hoy."}catch(a){console.error("Error al cargar el archivo JSON:",a),s.value="❌ Error al cargar el contenido."}});const V=()=>{l.value.currentTime>=9&&v.value===0&&!n.value&&(l.value.pause(),f.value=!0,O())},O=()=>{v.value=15,m.value=!1;const e=setInterval(()=>{v.value--,v.value<=0&&(clearInterval(e),m.value=!0,f.value=!1,s.value="⏰ Se acabó el tiempo. Volvé a intentarlo mañana.",l.value.play())},1e3)},j=e=>{m.value||n.value||(r.value=e,E(),setTimeout(()=>{h.value=e===i,s.value=h.value?"✅ ¡Correcto!":`❌ Incorrecto. Era: ${i}`,_.value=!0},3e3),setTimeout(()=>{l.value.play()},1e3))},A=()=>{_.value=!0};return(e,a)=>(d(),c("div",F,[u("div",P,[u("video",{src:y.value,ref_key:"video",ref:l,autoplay:"",class:"video",onTimeupdate:V,onEnded:A,onPause:a[0]||(a[0]=(...o)=>e.evitarPausa&&e.evitarPausa(...o)),onSeeking:a[1]||(a[1]=(...o)=>e.evitarAdelanto&&e.evitarAdelanto(...o))}," Tu navegador no soporta videos. ",40,x)]),w(C,{name:"fade-slide"},{default:k(()=>[p.value.length&&!n.value?(d(),c("div",H,[a[2]||(a[2]=u("h2",{class:"titulo"},"⚽ ¿Cómo terminó esta jugada?",-1)),(d(!0),c(M,null,z(p.value,(o,g)=>(d(),c("div",{key:g},[u("button",{class:B(["respuesta-btn",{correcta:n.value&&o===R(i),incorrecta:n.value&&o===r.value&&o!==R(i)}]),disabled:r.value!==null||!f.value,onClick:$=>j(o)},T(o),11,J)]))),128))])):D("",!0)]),_:1}),w(C,{name:"fade-pop"},{default:k(()=>[s.value?(d(),c("div",L,[u("p",null,T(s.value),1)])):D("",!0)]),_:1})]))}},Q=G(Y,[["__scopeId","data-v-9a208494"]]);export{Q as default};
