import{_ as B,b as o,d as M,c as r,a as i,e as C,w as D,T as I,o as u,f as b,F as N,r as j,n as z,t as A}from"./index-CjSb5BrB.js";const F={class:"adivina-el-gol-wrapper text-white"},O={class:"video-container"},P=["src"],x={key:0,class:"respuestas-container"},H=["disabled","onClick"],L={key:0,class:"resultado"},U={__name:"AdivinaElGol",setup(Y){const n=o(null),c=o(0),f=o([]),s=o(""),d=o(null),v=o(!1),p=o(!1),m=o(!1);o(!1);const g=o(!1),y=o("");let _="";const l=o(!1),S=o(""),w=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const t=a-e,h=Math.floor(t/(1e3*60*60)),k=Math.floor(t%(1e3*60*60)/(1e3*60));S.value=`${h}h ${k}m`},T=()=>{const e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/Argentina/Buenos_Aires"})).toISOString().slice(0,10);localStorage.getItem(`gol-respondido-${e}`)&&(l.value=!0,w(),s.value="Ya respondiste hoy. Volvé a intentarlo en "+S.value)},V=()=>{const e=new Date().toISOString().slice(0,10);localStorage.setItem(`gol-respondido-${e}`,"respondido"),l.value=!0,w()};M(async()=>{const e=new Date().toISOString().slice(0,10);T();const a=await fetch("/contenido_diario.json").then(t=>t.json());a[e]?(y.value=a[e].video,f.value=a[e].respuestas,_=a[e].correcta):s.value="📅 No hay contenido cargado para hoy."});const $=()=>{n.value.currentTime>=9&&c.value===0&&!l.value&&(n.value.pause(),m.value=!0,R())},R=()=>{c.value=15,g.value=!1;const e=setInterval(()=>{c.value--,c.value<=0&&(clearInterval(e),g.value=!0,m.value=!1,s.value="⏰ Se acabó el tiempo. Volvé a intentarlo mañana.",n.value.play())},1e3)},E=e=>{g.value||l.value||(d.value=e,V(),setTimeout(()=>{v.value=e===_,s.value=v.value?"✅ ¡Correcto!":`❌ Incorrecto. Era: ${_}`,p.value=!0},3e3),setTimeout(()=>{n.value.play()},1e3))},G=()=>{p.value=!0};return(e,a)=>(u(),r("div",F,[i("div",O,[i("video",{src:`/videos/${y.value}`,ref_key:"video",ref:n,autoplay:"",class:"video",onTimeupdate:$,onEnded:G,onPause:a[0]||(a[0]=(...t)=>e.evitarPausa&&e.evitarPausa(...t)),onSeeking:a[1]||(a[1]=(...t)=>e.evitarAdelanto&&e.evitarAdelanto(...t))}," Tu navegador no soporta videos. ",40,P)]),C(I,{name:"fade-slide"},{default:D(()=>[f.value.length&&!l.value?(u(),r("div",x,[a[2]||(a[2]=i("h2",{class:"titulo"},"⚽ ¿Cómo terminó esta jugada?",-1)),(u(!0),r(N,null,j(f.value,(t,h)=>(u(),r("div",{key:h},[i("button",{class:z(["respuesta-btn",{correcta:t===d.value&&v.value&&p.value,incorrecta:t===d.value&&!v.value&&p.value}]),disabled:d.value!==null||!m.value,onClick:k=>E(t)},A(t),11,H)]))),128))])):b("",!0)]),_:1}),C(I,{name:"fade-pop"},{default:D(()=>[s.value?(u(),r("div",L,[i("p",null,A(s.value),1)])):b("",!0)]),_:1})]))}},q=B(U,[["__scopeId","data-v-9b442978"]]);export{q as default};
