import{_ as O,r as t,e as A,c as i,b as k,a as c,f as N,t as _,w as M,T as z,o as u,F as B,d as F,n as P,g as C}from"./index-Bd_UDzU2.js";const x={class:"adivina-el-gol-wrapper text-white"},G={key:0,class:"mensaje-superior"},H={class:"video-container"},Y=["src"],J={key:0,class:"respuestas-container"},L={class:"titulo"},q=["disabled","onClick"],K={__name:"AdivinaElGol",setup(Q){const d=t(null),f=t(0),m=t([]),s=t(""),l=t(null),y=t(!1),S=t(!1),v=t(!1),p=t(!1),$=t("");let r="";const g=t(!1),n=t(!1),I=t(""),b=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const o=a-e,h=Math.floor(o/(1e3*60*60)),w=Math.floor(o%(1e3*60*60)/(1e3*60));I.value=`${h}h ${w}m`},D=()=>{const e=new Date().toISOString().slice(0,10);localStorage.setItem(`gol-respondido-${e}`,"true"),localStorage.setItem(`gol-respuesta-${e}`,l.value)},E=()=>{const e=new Date().toISOString().slice(0,10),a=localStorage.getItem(`gol-respondido-${e}`),o=localStorage.getItem(`gol-respuesta-${e}`);a==="true"&&(n.value=!0,l.value=o,b(),s.value=`Ya respondiste hoy. Volvé a intentarlo en ${I.value}`)};A(async()=>{E();const e=new Date().toISOString().slice(0,10);try{const a=await fetch("/OnceRojo/contenido_diario.json").then(o=>o.json());a[e]?($.value=`/OnceRojo/videos/${a[e].video}`,m.value=a[e].respuestas,r=a[e].correcta):s.value="📅 No hay contenido cargado para hoy."}catch(a){console.error("Error al cargar el archivo JSON:",a),s.value="❌ Error al cargar el contenido."}});const R=()=>{d.value.currentTime>=9&&!v.value&&!n.value&&(d.value.pause(),v.value=!0,V())},V=()=>{f.value=15,p.value=!1;const e=setInterval(()=>{f.value--,f.value<=0&&(clearInterval(e),p.value=!0,v.value=!1,s.value="⏰ Se acabó el tiempo. Volvé a intentarlo mañana.")},1e3)},T=e=>{p.value||n.value||(l.value=e,n.value=!0,D(),p.value||d.value.play(),setTimeout(()=>{g.value=!0,y.value=e===r,s.value=y.value?"✅ ¡Correcto!":`❌ Incorrecto. Era: ${r}`,S.value=!0},3e3))},j=()=>{S.value=!0};return(e,a)=>(u(),i("div",x,[s.value?(u(),i("div",G,[c("p",null,_(s.value),1)])):k("",!0),c("div",H,[c("video",{src:$.value,ref_key:"video",ref:d,autoplay:"",class:"video",onTimeupdate:R,onEnded:j,onPause:a[0]||(a[0]=(...o)=>e.evitarPausa&&e.evitarPausa(...o)),onSeeking:a[1]||(a[1]=(...o)=>e.evitarAdelanto&&e.evitarAdelanto(...o))}," Tu navegador no soporta videos. ",40,Y)]),N(z,{name:"fade-slide"},{default:M(()=>[m.value.length?(u(),i("div",J,[c("h2",L,_(n.value?"Ya respondiste hoy":"¿Cómo terminó esta jugada?"),1),(u(!0),i(B,null,F(m.value,(o,h)=>(u(),i("div",{key:h},[c("button",{class:P(["respuesta-btn",{correcta:g.value&&o===C(r),incorrecta:g.value&&o===l.value&&o!==C(r)}]),disabled:n.value||l.value!==null||!v.value,onClick:w=>T(o)},_(o),11,q)]))),128))])):k("",!0)]),_:1})]))}},W=O(K,[["__scopeId","data-v-b605d7d5"]]);export{W as default};
