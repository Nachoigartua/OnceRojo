import{_ as j,b as t,d as O,c as i,e as w,a as c,f as A,t as h,w as N,T as M,o as u,F as z,r as B,n as F,g as k}from"./index-BcSonkdL.js";const P={class:"adivina-el-gol-wrapper text-white"},x={key:0,class:"mensaje-superior"},G={class:"video-container"},H=["src"],Y={key:0,class:"respuestas-container"},J={class:"titulo"},L=["disabled","onClick"],q={__name:"AdivinaElGol",setup(K){const d=t(null),f=t(0),m=t([]),n=t(""),l=t(null),_=t(!1),y=t(!1),v=t(!1),p=t(!1),S=t("");let r="";const s=t(!1),$=t(""),C=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const o=a-e,g=Math.floor(o/(1e3*60*60)),I=Math.floor(o%(1e3*60*60)/(1e3*60));$.value=`${g}h ${I}m`},D=()=>{const e=new Date().toISOString().slice(0,10);localStorage.setItem(`gol-respondido-${e}`,"true"),localStorage.setItem(`gol-respuesta-${e}`,l.value)},E=()=>{const e=new Date().toISOString().slice(0,10),a=localStorage.getItem(`gol-respondido-${e}`),o=localStorage.getItem(`gol-respuesta-${e}`);a==="true"&&(s.value=!0,l.value=o,C(),n.value=`Ya respondiste hoy. VolvÃ© a intentarlo en ${$.value}`)};O(async()=>{E();const e=new Date().toISOString().slice(0,10);try{const a=await fetch("/OnceRojo/contenido_diario.json").then(o=>o.json());a[e]?(S.value=`/OnceRojo/videos/${a[e].video}`,m.value=a[e].respuestas,r=a[e].correcta):n.value="ðŸ“… No hay contenido cargado para hoy."}catch(a){console.error("Error al cargar el archivo JSON:",a),n.value="âŒ Error al cargar el contenido."}});const b=()=>{d.value.currentTime>=9&&!v.value&&!s.value&&(d.value.pause(),v.value=!0,R())},R=()=>{f.value=15,p.value=!1;const e=setInterval(()=>{f.value--,f.value<=0&&(clearInterval(e),p.value=!0,v.value=!1,n.value="â° Se acabÃ³ el tiempo. VolvÃ© a intentarlo maÃ±ana.")},1e3)},T=e=>{p.value||s.value||(l.value=e,s.value=!0,D(),setTimeout(()=>{_.value=e===r,n.value=_.value?"âœ… Â¡Correcto!":`âŒ Incorrecto. Era: ${r}`,y.value=!0,p.value||d.value.play()},1e3))},V=()=>{y.value=!0};return(e,a)=>(u(),i("div",P,[n.value?(u(),i("div",x,[c("p",null,h(n.value),1)])):w("",!0),c("div",G,[c("video",{src:S.value,ref_key:"video",ref:d,autoplay:"",class:"video",onTimeupdate:b,onEnded:V,onPause:a[0]||(a[0]=(...o)=>e.evitarPausa&&e.evitarPausa(...o)),onSeeking:a[1]||(a[1]=(...o)=>e.evitarAdelanto&&e.evitarAdelanto(...o))}," Tu navegador no soporta videos. ",40,H)]),A(M,{name:"fade-slide"},{default:N(()=>[m.value.length?(u(),i("div",Y,[c("h2",J,h(s.value?"Ya respondiste hoy":"Â¿CÃ³mo terminÃ³ esta jugada?"),1),(u(!0),i(z,null,B(m.value,(o,g)=>(u(),i("div",{key:g},[c("button",{class:F(["respuesta-btn",{correcta:s.value&&o===k(r),incorrecta:s.value&&o===l.value&&o!==k(r)}]),disabled:s.value||l.value!==null||!v.value,onClick:I=>T(o)},h(o),11,L)]))),128))])):w("",!0)]),_:1})]))}},U=j(q,[["__scopeId","data-v-ca9c1ad7"]]);export{U as default};
