import{_ as D,b as n,d as $,c as l,a as s,t as i,F as w,r as k,e as E,n as f,o as c}from"./index-CaxSGM_9.js";const R={class:"intruso-container text-white text-center px-3"},N={key:0},T={class:"reloj"},H={class:"mb-4 fs-5 animate-fade-in"},M={class:"row justify-content-center mt-4"},A={key:1},B={class:"mb-4 fs-5 animate-fade-in"},F={class:"row justify-content-center"},O=["disabled","onClick"],V={key:0,class:"mt-4 animate-slide-in"},G={key:2},J={__name:"AdivinaElIntruso",setup(U){const v=n([]),r=n(""),d=n("¬øQui√©n no jug√≥ en el Rey de Copas?"),h=n(""),u=n(!1),m=n(!1),y=n(""),g=n(!1),S=n(""),p=n(""),_=()=>{const a=new Date;return a.setUTCHours(3,0,0,0),a.toISOString().slice(0,10)},I=()=>{const a=new Date,e=new Date;e.setUTCHours(27,0,0,0);const t=e-a,o=String(Math.floor(t/(1e3*60*60))).padStart(2,"0"),b=String(Math.floor(t/(1e3*60)%60)).padStart(2,"0"),x=String(Math.floor(t/1e3%60)).padStart(2,"0");S.value=`${o}:${b}:${x}`},C=a=>{u.value=!0,m.value=a===r.value,y.value=m.value?"‚úÖ ¬°Correcto!":`‚ùå Incorrecto. El intruso era: ${r.value}`;const e=_();localStorage.setItem("respuesta-"+e,"true"),localStorage.setItem("seleccionada-"+e,a),localStorage.setItem("correcta-"+e,r.value),localStorage.setItem("pregunta-"+e,d.value)},j=async()=>{const a=_();try{const e=await fetch("/OnceRojo/adivina-intruso.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=(await e.json())[a];o?(v.value=o.opciones,r.value=o.intruso,d.value=o.pregunta||d.value):console.warn("No hay desaf√≠o cargado para hoy.")}catch(e){console.error("Error cargando el JSON:",e)}};return $(async()=>{const a=_();g.value=localStorage.getItem("respuesta-"+a)==="true",await j(),g.value&&(p.value=localStorage.getItem("seleccionada-"+a)||"",r.value=localStorage.getItem("correcta-"+a)||"",h.value=localStorage.getItem("pregunta-"+a)||d.value,I(),setInterval(I,1e3),u.value=!0)}),(a,e)=>(c(),l("div",R,[e[2]||(e[2]=s("h2",{class:"titulo-juego mb-5 animate-slide-in"},"üîé Adivin√° el Intruso üîé",-1)),g.value?(c(),l("div",N,[e[0]||(e[0]=s("p",{class:"fs-5"},"Ya has respondido hoy.",-1)),s("h3",T,"Vuelve a intentarlo en: "+i(S.value),1),s("p",H,i(h.value),1),s("div",M,[(c(!0),l(w,null,k(v.value,(t,o)=>(c(),l("div",{class:"col-10 col-md-4 mb-4",key:o},[s("button",{class:f(["boton-opcion",{correcta:t===r.value,incorrecta:t===p.value&&t!==r.value}]),disabled:""},i(t),3)]))),128))])])):v.value.length?(c(),l("div",A,[s("p",B,i(d.value),1),s("div",F,[(c(!0),l(w,null,k(v.value,(t,o)=>(c(),l("div",{class:"col-10 col-md-4 mb-4",key:o},[s("button",{class:f(["boton-opcion",{correcta:u.value&&t===r.value,incorrecta:u.value&&t===p.value&&t!==r.value}]),disabled:u.value,onClick:b=>C(t)},i(t),11,O)]))),128))]),u.value?(c(),l("div",V,[s("p",{class:f(["fs-5",m.value?"text-success":"text-danger"])},i(y.value),3)])):E("",!0)])):(c(),l("div",G,e[1]||(e[1]=[s("p",{class:"text-warning"},"No hay desaf√≠o cargado para hoy.",-1)])))]))}},L=D(J,[["__scopeId","data-v-38044c50"]]);export{L as default};
