import{o as O,c as J}from"./horaArgentina-wJwX-x9z.js";import{_ as $,r as s,e as D,c as l,a as o,b as k,t as i,F as C,d as A,n as _,o as n}from"./index-CmPTJcjg.js";const M={class:"intruso-container text-white text-center px-3"},P={key:0},T={class:"reloj"},V={class:"mb-4 fs-5 animate-fade-in"},B={class:"row justify-content-center mt-4"},G={key:1},H={class:"row justify-content-center"},z=["disabled","onClick"],L={key:0,class:"mt-4 animate-slide-in"},Q={key:2},Y={class:"fs-5 text-warning"},q={__name:"AdivinaElIntruso",setup(K){const m=s([]),h=s([]),u=s(""),r=s(0),c=s(!1),p=s(!1),v=s(""),y=s(!1),b=s(""),I=s(""),f=s([]),d=s(0),S=()=>O(),j=()=>{b.value=J()},F=a=>{c.value=!0,p.value=a===u.value,v.value=p.value?"âœ… Â¡Correcto!":`âŒ Incorrecto. El intruso era: ${u.value}`,p.value&&d.value++;const e=S();f.value.push(m.value[r.value]),localStorage.setItem("preguntas-guardadas-"+e,JSON.stringify(f.value)),r.value===2&&x(e)},x=a=>{d.value===3?v.value="ðŸŽ‰ Felicidades, acertaste 3 de 3 preguntas. Â¡Ganaste!":v.value=`âŒ Fallaste, Respondiste correctamente ${d.value} de 3 preguntas.`,localStorage.setItem("respuesta-"+a,"true"),localStorage.setItem("correctas-"+a,d.value),localStorage.setItem("preguntas-guardadas-"+a,JSON.stringify(f.value))},N=()=>{r.value<2?(r.value++,w(),c.value=!1):(r.value++,c.value=!1)},R=a=>a.map(e=>({item:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({item:e})=>e),w=()=>{h.value=R(m.value[r.value].opciones),u.value=m.value[r.value].intruso},E=async()=>{const a=S();try{const e=await fetch("/OnceRojo/adivina-intruso.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const g=(await e.json())[a];g?(m.value=g,w()):console.warn("No hay desafÃ­o cargado para hoy.")}catch(e){console.error("Error cargando el JSON:",e)}};return D(async()=>{const a=S();y.value=localStorage.getItem("respuesta-"+a)==="true",await E(),y.value&&(I.value=localStorage.getItem("seleccionada-"+a)||"",u.value=localStorage.getItem("correcta-"+a)||"",f.value=JSON.parse(localStorage.getItem("preguntas-guardadas-"+a))||[],d.value=parseInt(localStorage.getItem("correctas-"+a),10)||0,x(a),j(),setInterval(j,1e3),c.value=!0,r.value=3)}),(a,e)=>(n(),l("div",M,[e[1]||(e[1]=o("h2",{class:"titulo-juego mb-2 animate-slide-in"},"ðŸ”Ž AdivinÃ¡ el Intruso ðŸ”Ž",-1)),e[2]||(e[2]=o("h3",{class:"subtitulo-juego mb-5"},"Â¿QuiÃ©n no jugÃ³ en Independiente?",-1)),y.value?(n(),l("div",P,[e[0]||(e[0]=o("p",{class:"fs-5"},"Ya has respondido hoy.",-1)),o("h3",T,"Vuelve a intentarlo en: "+i(b.value),1),o("p",V,"Resultado: "+i(v.value),1),o("div",B,[(n(!0),l(C,null,A(h.value,(t,g)=>(n(),l("div",{class:"col-10 col-md-4 mb-4",key:g},[o("button",{class:_(["boton-opcion",{correcta:t===u.value,incorrecta:t===I.value&&t!==u.value}]),disabled:""},i(t),3)]))),128))])])):r.value<3?(n(),l("div",G,[o("div",H,[(n(!0),l(C,null,A(h.value,(t,g)=>(n(),l("div",{class:"col-10 col-md-4 mb-4",key:g},[o("button",{class:_(["boton-opcion",{correcta:c.value&&t===u.value,incorrecta:c.value&&t===I.value&&t!==u.value}]),disabled:c.value,onClick:U=>F(t)},i(t),11,z)]))),128))]),c.value?(n(),l("div",L,[o("p",{class:_(["fs-5",p.value?"text-success":"text-danger"])},i(v.value),3),r.value<2?(n(),l("button",{key:0,class:"btn btn-primary mt-3",onClick:N}," Siguiente Pregunta ")):k("",!0)])):k("",!0)])):r.value>=3?(n(),l("div",Q,[o("p",{class:_(["fs-4",d.value===3?"text-success":"text-danger"])},i(v.value),3),o("p",Y,"Vuelve a jugar en: "+i(b.value),1)])):k("",!0)]))}},Z=$(q,[["__scopeId","data-v-efff1ced"]]);export{Z as default};
