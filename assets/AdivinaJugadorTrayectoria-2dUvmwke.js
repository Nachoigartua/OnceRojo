import{_ as M,b as o,d as V,c as l,f as j,a as s,g as $,n as T,t as i,F as y,r as w,h as F,v as L,o as n}from"./index-RJRMSQKM.js";const P={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #800000, #e70013)"}},B={key:0,class:"text-center mt-3 mb-4"},U={class:"fs-5"},Y={class:"reloj"},z={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},H={class:"vidas mb-3 d-flex justify-content-center"},W={class:"acciones-container d-flex flex-column align-items-center"},q={class:"autocomplete-container position-relative w-100"},G={key:0,class:"autocomplete-list list-group position-absolute w-100"},K=["onClick"],Q=["disabled"],X={key:0,class:"resultado-container mt-4"},Z={__name:"AdivinaJugadorTrayectoria",setup(ee){const S=o([]),u=o(null),f=o(0),d=o([]),v=o(""),g=o([]),C=o(""),c=o(""),m=o(5),b=o(!1),p=o(!1),I=o("");V(()=>{const e=x();p.value=localStorage.getItem("jugador-jugado-"+e)==="true",p.value?(esCorrecta.value=localStorage.getItem("respuesta-correcta")==="true",u.value={nombre:localStorage.getItem("respuesta-jugador")},_(),setInterval(_,1e3)):(D(),O())});const x=()=>{const e=new Date;return e.setUTCHours(3,0,0,0),e.toISOString().slice(0,10)},_=()=>{const e=new Date,a=new Date;a.setUTCHours(27,0,0,0);const t=a-e,r=String(Math.floor(t/1e3/60/60)).padStart(2,"0"),h=String(Math.floor(t/1e3/60%60)).padStart(2,"0"),J=String(Math.floor(t/1e3%60)).padStart(2,"0");I.value=`${r}:${h}:${J}`},D=async()=>{try{const a=await(await fetch("/contenido_jugador_del_dia.json")).json(),t=new Date().toISOString().slice(0,10),r=a.jugadoresPorDia.find(h=>h.fecha===t);r?(u.value=r,f.value=0,d.value=[`Debutó en ${r.clubes[0]}`]):c.value="📅 No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del día:",e),c.value="❌ No se pudo cargar el jugador del día."}},A=()=>{if(m.value<=0){k();return}const e=u.value.clubes;if(f.value<e.length-1){f.value++;const a=e[f.value];d.value.push(a.toLowerCase()==="retirado"?"Y luego se retiró 🧓":a)}else d.value.includes("🔚 No jugó en más clubes.")||d.value.push("🔚 No jugó en más clubes.");m.value--,k()},k=()=>{b.value=!1,document.body.offsetWidth,b.value=!0,setTimeout(()=>{b.value=!1},500)},E=()=>{v.value.trim().length>=3?g.value=S.value.filter(e=>e.nombre.toLowerCase().includes(v.value.toLowerCase())):g.value=[]},R=e=>{C.value=e,v.value=e,g.value=[]},N=()=>{if(p.value){c.value="Ya has respondido hoy. Vuelve en:";return}C.value===u.value.nombre?(c.value=`🎉 ¡CORRECTO! Era ${u.value.nombre}`,esCorrecta.value=!0):(c.value="❌ INCORRECTO. Intenta nuevamente.",esCorrecta.value=!1,m.value>0&&m.value--),localStorage.setItem("jugador-jugado-"+x(),"true"),localStorage.setItem("respuesta-correcta",esCorrecta.value),localStorage.setItem("respuesta-jugador",u.value.nombre),p.value=!0,_(),setInterval(_,1e3)},O=async()=>{try{const a=await(await fetch("/contenido_jugador_del_dia.json")).json();S.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}};return(e,a)=>(n(),l("div",P,[p.value?(n(),l("div",B,[s("p",U,[a[1]||(a[1]=$(" Tu respuesta fue ")),s("span",{class:T({"text-success":e.esCorrecta,"text-danger":!e.esCorrecta})},i(e.esCorrecta?"CORRECTA":"INCORRECTA")+": "+i(u.value.value.nombre),3)]),a[2]||(a[2]=s("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),s("h3",Y,i(I.value),1)])):j("",!0),s("div",null,[a[3]||(a[3]=s("h2",{class:"mb-4"},"⚽ Adivina el Jugador",-1)),s("div",z,[(n(!0),l(y,null,w(d.value,(t,r)=>(n(),l("div",{class:"pista-text me-2 mb-2",key:r},i(t),1))),128))]),s("div",H,[(n(),l(y,null,w(5,t=>s("img",{key:t,class:T(["escudo-vida",{"escudo-perdido":t>m.value,temblor:b.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",W,[s("button",{class:"btn btn-light mb-3",onClick:A},"Siguiente Pista"),s("div",q,[F(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>v.value=t),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:E},null,544),[[L,v.value]]),g.value.length>0?(n(),l("ul",G,[(n(!0),l(y,null,w(g.value,(t,r)=>(n(),l("li",{key:r,class:"list-group-item list-group-item-action",onClick:h=>R(t.nombre)},i(t.nombre),9,K))),128))])):j("",!0)]),s("button",{class:"btn btn-success",onClick:N,disabled:!C.value},"Adivinar",8,Q)]),c.value?(n(),l("div",X,[s("p",null,i(c.value),1)])):j("",!0)])]))}},te=M(Z,[["__scopeId","data-v-6a3bc048"]]);export{te as default};
