import{_ as L,r as n,e as M,c as t,a as s,F as j,d as y,t as g,b as T,h as V,v as B,o,n as R}from"./index-CmPTJcjg.js";import{o as C,c as H}from"./horaArgentina-wJwX-x9z.js";const z={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #4b0000, #800000, #e70013)"}},Y={key:0},U={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},W={class:"vidas mb-3 d-flex justify-content-center"},q={class:"resultado-container mt-4"},K={key:0,class:"text-success"},Q={key:1,class:"text-danger"},X={class:"text-center mt-3"},Z={class:"reloj"},ee={key:1},ae={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},te={class:"vidas mb-3 d-flex justify-content-center"},se={class:"acciones-container d-flex flex-column align-items-center"},oe={class:"autocomplete-container position-relative w-100"},le={key:0,class:"autocomplete-list list-group position-absolute w-100"},re=["onClick"],ne=["disabled"],ue={key:0,class:"resultado-container mt-4"},ie={key:0,class:"text-success"},ce={key:1,class:"text-danger"},de={__name:"AdivinaJugadorTrayectoria",setup(ve){const S=n([]),d=n(null),m=n(0),u=n([]),_=n(""),f=n([]),k=n(""),v=n(""),c=n(5),b=n(!1),x=n(!1),E=n(""),p=n(!1),w=()=>{E.value=H()},$=()=>{const e=C();if(localStorage.getItem(`jugador-jugado-${e}`)){x.value=!0,k.value=localStorage.getItem("respuesta-jugador")||"",p.value=localStorage.getItem("respuesta-correcta")==="true",v.value=localStorage.getItem("resultado-jugador")||"";const i=localStorage.getItem(`pistas-mostradas-${e}`);i&&(u.value=JSON.parse(i),m.value=u.value.length-1);const r=localStorage.getItem(`vidas-jugador-${e}`);r!==null&&(c.value=parseInt(r)),w()}},O=()=>{var a;const e=C();localStorage.setItem(`jugador-jugado-${e}`,"respondido"),localStorage.setItem("respuesta-correcta",p.value),localStorage.setItem("respuesta-jugador",((a=d.value)==null?void 0:a.nombre)||""),localStorage.setItem("resultado-jugador",v.value),localStorage.setItem(`pistas-mostradas-${e}`,JSON.stringify(u.value)),localStorage.setItem(`vidas-jugador-${e}`,c.value),x.value=!0,w()},N=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json(),i=C(),r=a.jugadoresPorDia.find(I=>I.fecha===i);r?(d.value=r,u.value.length===0&&(m.value=0,u.value=[`Debutó en ${r.clubes[0]}`])):v.value="📅 No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del día:",e),v.value="❌ No se pudo cargar el jugador del día."}},J=()=>{var i;if(c.value<=0){A();return}const e=((i=d.value)==null?void 0:i.clubes)||[];if(m.value<e.length-1){m.value++;const r=e[m.value];u.value.push(m.value===0?r:`➡️ ${r.toLowerCase()==="retirado"?"Y luego se retiró 🧓":r}`)}else u.value.includes("🔚 No jugó en más clubes.")||u.value.push("🔚 No jugó en más clubes.");c.value--,A();const a=C();localStorage.setItem(`pistas-mostradas-${a}`,JSON.stringify(u.value)),localStorage.setItem(`vidas-jugador-${a}`,c.value)},D=()=>{if(!x.value){if(!d.value){v.value="❌ Error: No se pudo cargar el jugador del día.";return}k.value===d.value.nombre?(p.value=!0,v.value="✅ ¡Correcto!"):(p.value=!1,v.value="❌ Incorrecto.",c.value>0&&c.value--),O()}},P=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json();S.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}},G=()=>{_.value.trim().length>=3?f.value=S.value.filter(e=>e.nombre.toLowerCase().includes(_.value.toLowerCase())):f.value=[]},F=e=>{k.value=e,_.value=e,f.value=[]},A=()=>{b.value=!1,document.body.offsetWidth,b.value=!0,setTimeout(()=>{b.value=!1},500)};return M(()=>{C(),$(),w(),N(),P()}),(e,a)=>{var i,r,I;return o(),t("div",z,[x.value?(o(),t("div",Y,[a[2]||(a[2]=s("h2",{class:"mb-4 animate-title"},"⚽ Adivina el Jugador",-1)),s("div",U,[(o(!0),t(j,null,y(u.value,(l,h)=>(o(),t("div",{class:"pista-text me-2 mb-2",key:h},g(l),1))),128))]),s("div",W,[(o(),t(j,null,y(5,l=>s("img",{key:l,class:R(["escudo-vida",{"escudo-perdido":l>c.value,temblor:b.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",q,[p.value?(o(),t("p",K,"🎉 ¡CORRECTO! Era "+g((i=d.value)==null?void 0:i.nombre),1)):(o(),t("p",Q,"❌ INCORRECTO. Era "+g((r=d.value)==null?void 0:r.nombre),1))]),s("div",X,[a[1]||(a[1]=s("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),s("h3",Z,g(E.value),1)])])):(o(),t("div",ee,[a[3]||(a[3]=s("h2",{class:"mb-4 animate-title"},"⚽ Adivina el Jugador",-1)),s("div",ae,[(o(!0),t(j,null,y(u.value,(l,h)=>(o(),t("div",{class:"pista-text me-2 mb-2",key:h},g(l),1))),128))]),s("div",te,[(o(),t(j,null,y(5,l=>s("img",{key:l,class:R(["escudo-vida",{"escudo-perdido":l>c.value,temblor:b.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",se,[s("button",{class:"btn btn-light mb-3 animate-button",onClick:J},"Siguiente Pista"),s("div",oe,[V(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>_.value=l),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:G},null,544),[[B,_.value]]),f.value.length>0?(o(),t("ul",le,[(o(!0),t(j,null,y(f.value,(l,h)=>(o(),t("li",{key:h,class:"list-group-item list-group-item-action",onClick:ge=>F(l.nombre)},g(l.nombre),9,re))),128))])):T("",!0)]),s("button",{class:"btn btn-success animate-button",onClick:D,disabled:!k.value},"Adivinar",8,ne)]),v.value?(o(),t("div",ue,[p.value?(o(),t("p",ie,"🎉 ¡CORRECTO! Era "+g((I=d.value)==null?void 0:I.nombre),1)):(o(),t("p",ce,"❌ INCORRECTO. Intenta nuevamente."))])):T("",!0)]))])}}},_e=L(de,[["__scopeId","data-v-f518ec03"]]);export{_e as default};
