import{_ as M,b as o,d as V,c as l,a as s,h as L,n as R,t as d,f as S,F as y,r as C,i as P,v as B,o as n}from"./index-DZHYexqV.js";const F={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #800000, #e70013)"}},G={key:0,class:"text-center mt-3 mb-4"},z={class:"fs-5"},Y={class:"reloj"},H={key:1},U={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},W={class:"vidas mb-3 d-flex justify-content-center"},q={class:"acciones-container d-flex flex-column align-items-center"},K={class:"autocomplete-container position-relative w-100"},Q={key:0,class:"autocomplete-list list-group position-absolute w-100"},X=["onClick"],Z=["disabled"],ee={key:0,class:"resultado-container mt-4"},ae={__name:"AdivinaJugadorTrayectoria",setup(te){const x=o([]),c=o(null),f=o(0),v=o([]),g=o(""),m=o([]),_=o(""),i=o(""),p=o(5),b=o(!1),h=o(!1),w=o(""),u=o(!1),I=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const t=a-e,r=Math.floor(t/(1e3*60*60)),j=Math.floor(t%(1e3*60*60)/(1e3*60));w.value=`${r}h ${j}m`},D=()=>{const e=new Date().toISOString().slice(0,10),a=localStorage.getItem(`jugador-jugado-${e}`),t=localStorage.getItem("respuesta-jugador");a&&(h.value=!0,_.value=t,u.value=localStorage.getItem("respuesta-correcta")==="true",I())},T=()=>{const e=new Date().toISOString().slice(0,10);localStorage.setItem(`jugador-jugado-${e}`,"respondido"),localStorage.setItem("respuesta-correcta",u.value),localStorage.setItem("respuesta-jugador",c.value.nombre),h.value=!0,I()},A=async()=>{try{const a=await(await fetch("/OnceRojo/contenido_jugador_del_dia.json")).json(),t=new Date().toISOString().slice(0,10),r=a.jugadoresPorDia.find(j=>j.fecha===t);r?(c.value=r,f.value=0,v.value=[`Debutó en ${r.clubes[0]}`]):i.value="📅 No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del día:",e),i.value="❌ No se pudo cargar el jugador del día."}},E=()=>{if(p.value<=0){k();return}const e=c.value.clubes;if(f.value<e.length-1){f.value++;const a=e[f.value];v.value.push(a.toLowerCase()==="retirado"?"Y luego se retiró 🧓":a)}else v.value.includes("🔚 No jugó en más clubes.")||v.value.push("🔚 No jugó en más clubes.");p.value--,k()},O=()=>{h.value||(_.value===c.value.nombre?(i.value=`🎉 ¡CORRECTO! Era ${c.value.nombre}`,u.value=!0):(i.value="❌ INCORRECTO. Intenta nuevamente.",u.value=!1,p.value>0&&p.value--),T())},N=async()=>{try{const a=await(await fetch("/OnceRojo/contenido_jugador_del_dia.json")).json();x.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}},$=()=>{g.value.trim().length>=3?m.value=x.value.filter(e=>e.nombre.toLowerCase().includes(g.value.toLowerCase())):m.value=[]},J=e=>{_.value=e,g.value=e,m.value=[]},k=()=>{b.value=!1,document.body.offsetWidth,b.value=!0,setTimeout(()=>{b.value=!1},500)};return V(()=>{D(),A(),N()}),(e,a)=>(n(),l("div",F,[h.value?(n(),l("div",G,[s("p",z,[a[1]||(a[1]=L(" Tu respuesta fue ")),s("span",{class:R({"text-success":u.value,"text-danger":!u.value})},d(u.value?"CORRECTA":"INCORRECTA")+": "+d(c.value.value.nombre),3)]),a[2]||(a[2]=s("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),s("h3",Y,d(w.value),1)])):(n(),l("div",H,[a[3]||(a[3]=s("h2",{class:"mb-4"},"⚽ Adivina el Jugador",-1)),s("div",U,[(n(!0),l(y,null,C(v.value,(t,r)=>(n(),l("div",{class:"pista-text me-2 mb-2",key:r},d(t),1))),128))]),s("div",W,[(n(),l(y,null,C(5,t=>s("img",{key:t,class:R(["escudo-vida",{"escudo-perdido":t>p.value,temblor:b.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",q,[s("button",{class:"btn btn-light mb-3",onClick:E},"Siguiente Pista"),s("div",K,[P(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>g.value=t),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:$},null,544),[[B,g.value]]),m.value.length>0?(n(),l("ul",Q,[(n(!0),l(y,null,C(m.value,(t,r)=>(n(),l("li",{key:r,class:"list-group-item list-group-item-action",onClick:j=>J(t.nombre)},d(t.nombre),9,X))),128))])):S("",!0)]),s("button",{class:"btn btn-success",onClick:O,disabled:!_.value},"Adivinar",8,Z)]),i.value?(n(),l("div",ee,[s("p",null,d(i.value),1)])):S("",!0)]))]))}},oe=M(ae,[["__scopeId","data-v-d5fab4e0"]]);export{oe as default};
