import{_ as P,b as s,d as V,c as l,a as t,h as L,n as D,t as v,e as R,F as w,r as C,i as B,v as F,o as n}from"./index-BP0zXZfI.js";const G={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #800000, #e70013)"}},H={key:0,class:"text-center mt-3 mb-4"},z={class:"fs-5"},Y={class:"reloj"},U={key:1},W={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},q={class:"vidas mb-3 d-flex justify-content-center"},K={class:"acciones-container d-flex flex-column align-items-center"},Q={class:"autocomplete-container position-relative w-100"},X={key:0,class:"autocomplete-list list-group position-absolute w-100"},Z=["onClick"],ee=["disabled"],ae={key:0,class:"resultado-container mt-4"},te={__name:"AdivinaJugadorTrayectoria",setup(oe){const x=s([]),u=s(null),_=s(0),g=s([]),m=s(""),p=s([]),b=s(""),d=s(""),f=s(5),h=s(!1),j=s(!1),k=s(""),c=s(!1),I=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const r=a-e,i=Math.floor(r/(1e3*60*60)),o=Math.floor(r%(1e3*60*60)/(1e3*60));k.value=`${i}h ${o}m`},S=()=>{const e=new Date().toISOString().slice(0,10),a=localStorage.getItem(`jugador-jugado-${e}`),r=localStorage.getItem("respuesta-jugador");a&&(j.value=!0,b.value=r,c.value=localStorage.getItem("respuesta-correcta")==="true",I())},E=()=>{var a;const e=new Date().toISOString().slice(0,10);localStorage.setItem(`jugador-jugado-${e}`,"respondido"),localStorage.setItem("respuesta-correcta",c.value),localStorage.setItem("respuesta-jugador",((a=u.value)==null?void 0:a.nombre)||""),j.value=!0,I()},A=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json(),r=new Date().toISOString().slice(0,10),i=a.jugadoresPorDia.find(o=>o.fecha===r);i?(u.value=i,_.value=0,g.value=[`Debutó en ${i.clubes[0]}`]):d.value="📅 No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del día:",e),d.value="❌ No se pudo cargar el jugador del día."}},O=()=>{var a;if(f.value<=0){T();return}const e=((a=u.value)==null?void 0:a.clubes)||[];if(_.value<e.length-1){_.value++;const r=e[_.value];g.value.push(r.toLowerCase()==="retirado"?"Y luego se retiró 🧓":r)}else g.value.includes("🔚 No jugó en más clubes.")||g.value.push("🔚 No jugó en más clubes.");f.value--,T()},$=()=>{if(!j.value){if(!u.value){d.value="❌ Error: No se pudo cargar el jugador del día.";return}b.value===u.value.nombre?(d.value=`🎉 ¡CORRECTO! Era ${u.value.nombre}`,c.value=!0):(d.value="❌ INCORRECTO. Intenta nuevamente.",c.value=!1,f.value>0&&f.value--),E()}},N=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json();x.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}},J=()=>{m.value.trim().length>=3?p.value=x.value.filter(e=>e.nombre.toLowerCase().includes(m.value.toLowerCase())):p.value=[]},M=e=>{b.value=e,m.value=e,p.value=[]},T=()=>{h.value=!1,document.body.offsetWidth,h.value=!0,setTimeout(()=>{h.value=!1},500)};return V(()=>{S(),A(),N()}),(e,a)=>{var r,i;return n(),l("div",G,[j.value?(n(),l("div",H,[t("p",z,[a[1]||(a[1]=L(" Tu respuesta fue ")),t("span",{class:D({"text-success":c.value,"text-danger":!c.value})},v(c.value?"CORRECTA":"INCORRECTA")+": "+v(((r=u.value)==null?void 0:r.nombre)||"Desconocido")+" "+v(c.value?"("+((i=u.value)==null?void 0:i.clubes.join(" ➡ "))+")":""),3)]),a[2]||(a[2]=t("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),t("h3",Y,v(k.value),1)])):(n(),l("div",U,[a[3]||(a[3]=t("h2",{class:"mb-4"},"⚽ Adivina el Jugador",-1)),t("div",W,[(n(!0),l(w,null,C(g.value,(o,y)=>(n(),l("div",{class:"pista-text me-2 mb-2",key:y},v(o),1))),128))]),t("div",q,[(n(),l(w,null,C(5,o=>t("img",{key:o,class:D(["escudo-vida",{"escudo-perdido":o>f.value,temblor:h.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),t("div",K,[t("button",{class:"btn btn-light mb-3",onClick:O},"Siguiente Pista"),t("div",Q,[B(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>m.value=o),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:J},null,544),[[F,m.value]]),p.value.length>0?(n(),l("ul",X,[(n(!0),l(w,null,C(p.value,(o,y)=>(n(),l("li",{key:y,class:"list-group-item list-group-item-action",onClick:se=>M(o.nombre)},v(o.nombre),9,Z))),128))])):R("",!0)]),t("button",{class:"btn btn-success",onClick:$,disabled:!b.value},"Adivinar",8,ee)]),d.value?(n(),l("div",ae,[t("p",null,v(d.value),1)])):R("",!0)]))])}}},le=P(te,[["__scopeId","data-v-55cf695f"]]);export{le as default};
