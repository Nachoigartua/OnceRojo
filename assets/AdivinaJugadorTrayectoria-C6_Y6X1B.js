import{_ as L,r as n,e as V,c as t,a as s,F as y,d as x,t as g,b as R,h as B,v as F,o,n as T}from"./index-CWLAntZ9.js";const H={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #4b0000, #800000, #e70013)"}},z={key:0},Y={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},U={class:"vidas mb-3 d-flex justify-content-center"},W={class:"resultado-container mt-4"},q={key:0,class:"text-success"},K={key:1,class:"text-danger"},Q={class:"text-center mt-3"},X={class:"reloj"},Z={key:1},ee={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},ae={class:"vidas mb-3 d-flex justify-content-center"},te={class:"acciones-container d-flex flex-column align-items-center"},se={class:"autocomplete-container position-relative w-100"},oe={key:0,class:"autocomplete-list list-group position-absolute w-100"},le=["onClick"],re=["disabled"],ne={key:0,class:"resultado-container mt-4"},ue={key:0,class:"text-success"},ie={key:1,class:"text-danger"},ce={__name:"AdivinaJugadorTrayectoria",setup(de){const w=n([]),d=n(null),m=n(0),u=n([]),f=n(""),b=n([]),C=n(""),v=n(""),i=n(5),h=n(!1),I=n(!1),S=n(""),p=n(!1),c=new Date().toISOString().slice(0,10),E=()=>{const e=new Date,a=new Date(e);a.setHours(24,0,0,0);const l=a-e,_=Math.floor(l/(1e3*60*60)),k=Math.floor(l%(1e3*60*60)/(1e3*60));S.value=`${_}h ${k}m`},A=()=>{if(localStorage.getItem(`jugador-jugado-${c}`)){I.value=!0,C.value=localStorage.getItem("respuesta-jugador")||"",p.value=localStorage.getItem("respuesta-correcta")==="true",v.value=localStorage.getItem("resultado-jugador")||"";const a=localStorage.getItem(`pistas-mostradas-${c}`);a&&(u.value=JSON.parse(a),m.value=u.value.length-1);const l=localStorage.getItem(`vidas-jugador-${c}`);l!==null&&(i.value=parseInt(l)),E()}},O=()=>{var e;localStorage.setItem(`jugador-jugado-${c}`,"respondido"),localStorage.setItem("respuesta-correcta",p.value),localStorage.setItem("respuesta-jugador",((e=d.value)==null?void 0:e.nombre)||""),localStorage.setItem("resultado-jugador",v.value),localStorage.setItem(`pistas-mostradas-${c}`,JSON.stringify(u.value)),localStorage.setItem(`vidas-jugador-${c}`,i.value),I.value=!0,E()},D=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const l=(await e.json()).jugadoresPorDia.find(_=>_.fecha===c);l?(d.value=l,u.value.length===0&&(m.value=0,u.value=[`DebutÃ³ en ${l.clubes[0]}`])):v.value="ğŸ“… No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del dÃ­a:",e),v.value="âŒ No se pudo cargar el jugador del dÃ­a."}},N=()=>{var a;if(i.value<=0){$();return}const e=((a=d.value)==null?void 0:a.clubes)||[];if(m.value<e.length-1){m.value++;const l=e[m.value];u.value.push(m.value===0?l:`â¡ï¸ ${l.toLowerCase()==="retirado"?"Y luego se retirÃ³ ğŸ§“":l}`)}else u.value.includes("ğŸ”š No jugÃ³ en mÃ¡s clubes.")||u.value.push("ğŸ”š No jugÃ³ en mÃ¡s clubes.");i.value--,$(),localStorage.setItem(`pistas-mostradas-${c}`,JSON.stringify(u.value)),localStorage.setItem(`vidas-jugador-${c}`,i.value)},J=()=>{if(!I.value){if(!d.value){v.value="âŒ Error: No se pudo cargar el jugador del dÃ­a.";return}C.value===d.value.nombre?(p.value=!0,v.value="âœ… Â¡Correcto!"):(p.value=!1,v.value="âŒ Incorrecto.",i.value>0&&i.value--),O()}},M=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.json();w.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}},P=()=>{f.value.trim().length>=3?b.value=w.value.filter(e=>e.nombre.toLowerCase().includes(f.value.toLowerCase())):b.value=[]},G=e=>{C.value=e,f.value=e,b.value=[]},$=()=>{h.value=!1,document.body.offsetWidth,h.value=!0,setTimeout(()=>{h.value=!1},500)};return V(()=>{A(),D(),M()}),(e,a)=>{var l,_,k;return o(),t("div",H,[I.value?(o(),t("div",z,[a[2]||(a[2]=s("h2",{class:"mb-4 animate-title"},"âš½ Adivina el Jugador",-1)),s("div",Y,[(o(!0),t(y,null,x(u.value,(r,j)=>(o(),t("div",{class:"pista-text me-2 mb-2",key:j},g(r),1))),128))]),s("div",U,[(o(),t(y,null,x(5,r=>s("img",{key:r,class:T(["escudo-vida",{"escudo-perdido":r>i.value,temblor:h.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",W,[p.value?(o(),t("p",q,"ğŸ‰ Â¡CORRECTO! Era "+g((l=d.value)==null?void 0:l.nombre),1)):(o(),t("p",K,"âŒ INCORRECTO. Era "+g((_=d.value)==null?void 0:_.nombre),1))]),s("div",Q,[a[1]||(a[1]=s("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),s("h3",X,g(S.value),1)])])):(o(),t("div",Z,[a[3]||(a[3]=s("h2",{class:"mb-4 animate-title"},"âš½ Adivina el Jugador",-1)),s("div",ee,[(o(!0),t(y,null,x(u.value,(r,j)=>(o(),t("div",{class:"pista-text me-2 mb-2",key:j},g(r),1))),128))]),s("div",ae,[(o(),t(y,null,x(5,r=>s("img",{key:r,class:T(["escudo-vida",{"escudo-perdido":r>i.value,temblor:h.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",te,[s("button",{class:"btn btn-light mb-3 animate-button",onClick:N},"Siguiente Pista"),s("div",se,[B(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>f.value=r),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:P},null,544),[[F,f.value]]),b.value.length>0?(o(),t("ul",oe,[(o(!0),t(y,null,x(b.value,(r,j)=>(o(),t("li",{key:j,class:"list-group-item list-group-item-action",onClick:ve=>G(r.nombre)},g(r.nombre),9,le))),128))])):R("",!0)]),s("button",{class:"btn btn-success animate-button",onClick:J,disabled:!C.value},"Adivinar",8,re)]),v.value?(o(),t("div",ne,[p.value?(o(),t("p",ue,"ğŸ‰ Â¡CORRECTO! Era "+g((k=d.value)==null?void 0:k.nombre),1)):(o(),t("p",ie,"âŒ INCORRECTO. Intenta nuevamente."))])):R("",!0)]))])}}},me=L(ce,[["__scopeId","data-v-3eefe7ed"]]);export{me as default};
