import{_ as $,b as s,d as M,c as r,f as C,a as o,g as V,n as T,t as i,F as y,r as S,h as F,v as L,o as n}from"./index-B0dCw-_6.js";const P={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #800000, #e70013)"}},B={key:0,class:"text-center mt-3 mb-4"},U={class:"fs-5"},Y={class:"reloj"},z={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},H={class:"vidas mb-3 d-flex justify-content-center"},W={class:"acciones-container d-flex flex-column align-items-center"},q={class:"autocomplete-container position-relative w-100"},G={key:0,class:"autocomplete-list list-group position-absolute w-100"},K=["onClick"],Q=["disabled"],X={key:0,class:"resultado-container mt-4"},Z={__name:"AdivinaJugadorTrayectoria",setup(ee){const w=s([]),u=s(null),f=s(0),d=s([]),v=s(""),g=s([]),j=s(""),c=s(""),m=s(5),b=s(!1),p=s(!1),I=s("");M(()=>{const e=x();p.value=localStorage.getItem("jugador-jugado-"+e)==="true",p.value?(esCorrecta.value=localStorage.getItem("respuesta-correcta")==="true",u.value={nombre:localStorage.getItem("respuesta-jugador")},_(),setInterval(_,1e3)):(R(),N())});const x=()=>{const e=new Date;return e.setUTCHours(3,0,0,0),e.toISOString().slice(0,10)},_=()=>{const e=new Date,a=new Date;a.setUTCHours(27,0,0,0);const t=a-e,l=String(Math.floor(t/1e3/60/60)).padStart(2,"0"),h=String(Math.floor(t/1e3/60%60)).padStart(2,"0"),J=String(Math.floor(t/1e3%60)).padStart(2,"0");I.value=`${l}:${h}:${J}`},R=async()=>{try{const e=await fetch("/OnceRojo/contenido_jugador_del_dia.json");console.log("Response status:",e.status);const a=await e.json();console.log("JSON data:",a);const t=new Date().toISOString().slice(0,10),l=a.jugadoresPorDia.find(h=>h.fecha===t);l?(u.value=l,f.value=0,d.value=[`Debutó en ${l.clubes[0]}`]):c.value="📅 No hay jugador asignado para hoy."}catch(e){console.error("Error al cargar el jugador del día:",e),c.value="❌ No se pudo cargar el jugador del día."}},D=()=>{if(m.value<=0){k();return}const e=u.value.clubes;if(f.value<e.length-1){f.value++;const a=e[f.value];d.value.push(a.toLowerCase()==="retirado"?"Y luego se retiró 🧓":a)}else d.value.includes("🔚 No jugó en más clubes.")||d.value.push("🔚 No jugó en más clubes.");m.value--,k()},k=()=>{b.value=!1,document.body.offsetWidth,b.value=!0,setTimeout(()=>{b.value=!1},500)},A=()=>{v.value.trim().length>=3?g.value=w.value.filter(e=>e.nombre.toLowerCase().includes(v.value.toLowerCase())):g.value=[]},E=e=>{j.value=e,v.value=e,g.value=[]},O=()=>{if(p.value){c.value="Ya has respondido hoy. Vuelve en:";return}j.value===u.value.nombre?(c.value=`🎉 ¡CORRECTO! Era ${u.value.nombre}`,esCorrecta.value=!0):(c.value="❌ INCORRECTO. Intenta nuevamente.",esCorrecta.value=!1,m.value>0&&m.value--),localStorage.setItem("jugador-jugado-"+x(),"true"),localStorage.setItem("respuesta-correcta",esCorrecta.value),localStorage.setItem("respuesta-jugador",u.value.nombre),p.value=!0,_(),setInterval(_,1e3)},N=async()=>{try{const a=await(await fetch("/OnceRojo/contenido_jugador_del_dia.json")).json();w.value=a.jugadoresPorDia}catch(e){console.error("Error al cargar los jugadores:",e)}};return(e,a)=>(n(),r("div",P,[p.value?(n(),r("div",B,[o("p",U,[a[1]||(a[1]=V(" Tu respuesta fue ")),o("span",{class:T({"text-success":e.esCorrecta,"text-danger":!e.esCorrecta})},i(e.esCorrecta?"CORRECTA":"INCORRECTA")+": "+i(u.value.value.nombre),3)]),a[2]||(a[2]=o("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),o("h3",Y,i(I.value),1)])):C("",!0),o("div",null,[a[3]||(a[3]=o("h2",{class:"mb-4"},"⚽ Adivina el Jugador",-1)),o("div",z,[(n(!0),r(y,null,S(d.value,(t,l)=>(n(),r("div",{class:"pista-text me-2 mb-2",key:l},i(t),1))),128))]),o("div",H,[(n(),r(y,null,S(5,t=>o("img",{key:t,class:T(["escudo-vida",{"escudo-perdido":t>m.value,temblor:b.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),o("div",W,[o("button",{class:"btn btn-light mb-3",onClick:D},"Siguiente Pista"),o("div",q,[F(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>v.value=t),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:A},null,544),[[L,v.value]]),g.value.length>0?(n(),r("ul",G,[(n(!0),r(y,null,S(g.value,(t,l)=>(n(),r("li",{key:l,class:"list-group-item list-group-item-action",onClick:h=>E(t.nombre)},i(t.nombre),9,K))),128))])):C("",!0)]),o("button",{class:"btn btn-success",onClick:O,disabled:!j.value},"Adivinar",8,Q)]),c.value?(n(),r("div",X,[o("p",null,i(c.value),1)])):C("",!0)])]))}},te=$(Z,[["__scopeId","data-v-53249a6e"]]);export{te as default};
