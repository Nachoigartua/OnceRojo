import{_ as N,b as o,d as $,c as l,f as _,a as s,g as J,n as k,t as u,F as C,r as y,h as M,v as V,o as n}from"./index-Jt8emjez.js";const F={class:"adivina-jugador-wrapper d-flex flex-column align-items-center justify-content-center text-white min-vh-100",style:{background:"linear-gradient(to bottom, #800000, #e70013)"}},L={key:0,class:"text-center mt-3 mb-4"},B={class:"fs-5"},U={class:"reloj"},Y={class:"pista-container mb-4 d-flex flex-wrap justify-content-center"},z={class:"vidas mb-3 d-flex justify-content-center"},H={class:"acciones-container d-flex flex-column align-items-center"},P={class:"autocomplete-container position-relative w-100"},G={key:0,class:"autocomplete-list list-group position-absolute w-100"},W=["onClick"],q=["disabled"],K={key:0,class:"resultado-container mt-4"},Q={__name:"AdivinaJugadorTrayectoria",setup(X){const R=o([]),c=o(null),f=o(0),p=o([]),i=o(""),d=o([]),b=o(""),r=o(""),v=o(5),g=o(!1),h=o(!1),S=o("");$(async()=>{const t=new Date().toISOString().slice(0,10);verificarRespuestaGuardada();try{const e=await fetch("/OnceRojo/camisetas_adivina.json").then(a=>a.json());console.log("Datos cargados:",e),e[t]?(imagenSrc.value=`/OnceRojo/${e[t].imagen.replace(/^\//,"")}`,console.log("Ruta ajustada de la imagen:",imagenSrc.value),opciones.value=e[t].opciones,correctaDelDia.value=e[t].correcta):r.value="📅 No hay contenido cargado para hoy."}catch(e){console.error("Error al cargar el archivo JSON:",e),r.value="❌ Error al cargar el contenido."}});const T=()=>{const t=new Date;return t.setUTCHours(3,0,0,0),t.toISOString().slice(0,10)},j=()=>{const t=new Date,e=new Date;e.setUTCHours(27,0,0,0);const a=e-t,m=String(Math.floor(a/1e3/60/60)).padStart(2,"0"),w=String(Math.floor(a/1e3/60%60)).padStart(2,"0"),D=String(Math.floor(a/1e3%60)).padStart(2,"0");S.value=`${m}:${w}:${D}`},I=()=>{if(v.value<=0){x();return}const t=c.value.clubes;if(f.value<t.length-1){f.value++;const e=t[f.value];p.value.push(e.toLowerCase()==="retirado"?"Y luego se retiró 🧓":e)}else p.value.includes("🔚 No jugó en más clubes.")||p.value.push("🔚 No jugó en más clubes.");v.value--,x()},x=()=>{g.value=!1,document.body.offsetWidth,g.value=!0,setTimeout(()=>{g.value=!1},500)},A=()=>{i.value.trim().length>=3?d.value=R.value.filter(t=>t.nombre.toLowerCase().includes(i.value.toLowerCase())):d.value=[]},E=t=>{b.value=t,i.value=t,d.value=[]},O=()=>{if(h.value){r.value="Ya has respondido hoy. Vuelve en:";return}b.value===c.value.nombre?(r.value=`🎉 ¡CORRECTO! Era ${c.value.nombre}`,esCorrecta.value=!0):(r.value="❌ INCORRECTO. Intenta nuevamente.",esCorrecta.value=!1,v.value>0&&v.value--),localStorage.setItem("jugador-jugado-"+T(),"true"),localStorage.setItem("respuesta-correcta",esCorrecta.value),localStorage.setItem("respuesta-jugador",c.value.nombre),h.value=!0,j(),setInterval(j,1e3)};return(t,e)=>(n(),l("div",F,[h.value?(n(),l("div",L,[s("p",B,[e[1]||(e[1]=J(" Tu respuesta fue ")),s("span",{class:k({"text-success":t.esCorrecta,"text-danger":!t.esCorrecta})},u(t.esCorrecta?"CORRECTA":"INCORRECTA")+": "+u(c.value.value.nombre),3)]),e[2]||(e[2]=s("p",{class:"fs-5"},"Ya respondiste hoy. Vuelve en:",-1)),s("h3",U,u(S.value),1)])):_("",!0),s("div",null,[e[3]||(e[3]=s("h2",{class:"mb-4"},"⚽ Adivina el Jugador!!",-1)),s("div",Y,[(n(!0),l(C,null,y(p.value,(a,m)=>(n(),l("div",{class:"pista-text me-2 mb-2",key:m},u(a),1))),128))]),s("div",z,[(n(),l(C,null,y(5,a=>s("img",{key:a,class:k(["escudo-vida",{"escudo-perdido":a>v.value,temblor:g.value}]),src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Escudo_del_Club_Atl%C3%A9tico_Independiente.svg/973px-Escudo_del_Club_Atl%C3%A9tico_Independiente.svg.png",alt:"vida"},null,2)),64))]),s("div",H,[s("button",{class:"btn btn-light mb-3",onClick:I},"Siguiente Pista"),s("div",P,[M(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),class:"form-control mb-3",placeholder:"Escribe el nombre del jugador",onInput:A},null,544),[[V,i.value]]),d.value.length>0?(n(),l("ul",G,[(n(!0),l(C,null,y(d.value,(a,m)=>(n(),l("li",{key:m,class:"list-group-item list-group-item-action",onClick:w=>E(a.nombre)},u(a.nombre),9,W))),128))])):_("",!0)]),s("button",{class:"btn btn-success",onClick:O,disabled:!b.value},"Adivinar",8,q)]),r.value?(n(),l("div",K,[s("p",null,u(r.value),1)])):_("",!0)])]))}},ee=N(Q,[["__scopeId","data-v-400d7c6c"]]);export{ee as default};
