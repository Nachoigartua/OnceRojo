import{o as h,c as A}from"./horaArgentina-wJwX-x9z.js";import{_ as L,r as v,e as B,i as D,c as n,a as l,t as f,F as p,d as m,n as y,b as F,o as u}from"./index-CmPTJcjg.js";const z={class:"rodle-container text-white text-center px-3"},$={key:0},J={class:"reloj"},O={class:"grilla mt-4"},T={class:"mt-4"},U={key:1},V={class:"grilla"},b={key:0,class:"mt-4"},M={key:2},P={__name:"Rodle",setup(H){const c=v([]),r=v(""),g=v(!1),i=v(!1),_=v(!1),k=v(""),d=v([]),j=()=>{k.value=A()},I=(t,e)=>{const o=[],s=Array(e.length).fill(!1);for(let a=0;a<e.length;a++)t[a]===e[a]?(o.push({char:t[a],color:"verde"}),s[a]=!0):o.push(null);for(let a=0;a<e.length;a++){if(o[a])continue;const S=e.split("").findIndex((E,N)=>E===t[a]&&!s[N]);S!==-1?(o[a]={char:t[a],color:"naranja"},s[S]=!0):o[a]={char:t[a],color:"gris"}}return o},R=()=>{const t=d.value.join("").toLowerCase();if(t.length!==r.value.length)return;const e=I(t,r.value);c.value.push(e),t===r.value?(i.value=!0,g.value=!0):c.value.length>=5&&(g.value=!0),localStorage.setItem("rodle-jugado-"+h(),"true"),localStorage.setItem("rodle-intentos-"+h(),JSON.stringify(c.value)),localStorage.setItem("rodle-correcto-"+h(),i.value.toString()),d.value=[]},w=t=>{if(g.value)return;const e=t.key.toLowerCase();/^[a-z√±√°√©√≠√≥√∫√º]$/.test(e)&&d.value.length<r.value.length?d.value.push(e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")):t.key==="Backspace"?d.value.pop():t.key==="Enter"&&d.value.length===r.value.length&&R()},x=(t,e)=>c.value[t]&&c.value[t][e]?c.value[t][e].color:"",C=(t,e)=>{var o,s,a;return c.value[t]?((s=(o=c.value[t][e])==null?void 0:o.char)==null?void 0:s.toUpperCase())||"":t===c.value.length&&((a=d.value[e])==null?void 0:a.toUpperCase())||""};return B(async()=>{const t=h();_.value=localStorage.getItem("rodle-jugado-"+t)==="true";try{const o=await(await fetch("/OnceRojo/Rodle.json")).json();o[t]&&(r.value=o[t].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}catch(e){console.error("Error cargando Rodle.json:",e)}if(_.value){j(),setInterval(j,1e3);const e=localStorage.getItem("rodle-intentos-"+t),o=localStorage.getItem("rodle-correcto-"+t);e&&(c.value=JSON.parse(e),g.value=!0,i.value=o==="true")}window.addEventListener("keydown",w)}),D(()=>{window.removeEventListener("keydown",w)}),(t,e)=>(u(),n("div",z,[e[3]||(e[3]=l("h2",{class:"titulo-juego mb-4 animate-slide-in"},"üü• Rodle üü•",-1)),_.value&&r.value?(u(),n("div",$,[e[0]||(e[0]=l("p",{class:"fs-5"},"Ya jugaste hoy. Volv√© en:",-1)),l("h3",J,f(k.value),1),l("div",O,[(u(),n(p,null,m(5,o=>l("div",{key:o,class:"fila"},[(u(!0),n(p,null,m(r.value.length,s=>(u(),n("div",{key:s,class:y(["letra",x(o-1,s-1)])},f(C(o-1,s-1)),3))),128))])),64))]),l("div",T,[l("p",{class:y(["fs-5",i.value?"text-success":"text-danger"])},f(i.value?"‚úÖ ¬°Correcto!":`‚ùå Era: ${r.value}`),3)])])):r.value?(u(),n("div",U,[e[1]||(e[1]=l("p",{class:"mb-3 fs-5"},"Adivin√° el apellido del jugador üî§",-1)),l("div",V,[(u(),n(p,null,m(5,o=>l("div",{key:o,class:"fila"},[(u(!0),n(p,null,m(r.value.length,s=>(u(),n("div",{key:s,class:y(["letra",x(o-1,s-1)])},f(C(o-1,s-1)),3))),128))])),64))]),g.value?(u(),n("div",b,[l("p",{class:y(["fs-5",i.value?"text-success":"text-danger"])},f(i.value?"‚úÖ ¬°Correcto!":`‚ùå Era: ${r.value}`),3)])):F("",!0)])):(u(),n("div",M,e[2]||(e[2]=[l("p",{class:"text-warning"},"No hay Rodle cargado para hoy.",-1)])))]))}},q=L(P,[["__scopeId","data-v-a086afbd"]]);export{q as default};
