import{_ as L,b as d,d as B,j as E,c as l,a as u,t as y,e as U,F as S,r as k,n as C,o as c}from"./index-CI9eUJUu.js";const $={class:"rodle-container text-white text-center px-3"},F={key:0},N={class:"reloj"},z={key:1},M={class:"grilla"},T={key:0,class:"mt-4"},V={key:2},b={__name:"Rodle",setup(H){const r=d([]),n=d(""),v=d(!1),h=d(!1),f=d(!1),_=d(""),i=d([]),p=()=>{const e=new Date;return e.setUTCHours(3,0,0,0),e.toISOString().slice(0,10)},w=()=>{const e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"America/Argentina/Buenos_Aires"})),a=new Date(t);a.setHours(24,0,0,0);const s=a-t,o=Math.floor(s/(1e3*60*60)),g=Math.floor(s%(1e3*60*60)/(1e3*60)),m=Math.floor(s%(1e3*60)/1e3);_.value=`${String(o).padStart(2,"0")}:${String(g).padStart(2,"0")}:${String(m).padStart(2,"0")}`},x=(e,t)=>{const a=[],s=Array(t.length).fill(!1);for(let o=0;o<t.length;o++)e[o]===t[o]?(a.push({char:e[o],color:"verde"}),s[o]=!0):a.push(null);for(let o=0;o<t.length;o++){if(a[o])continue;const g=t.split("").findIndex((m,A)=>m===e[o]&&!s[A]);g!==-1?(a[o]={char:e[o],color:"naranja"},s[g]=!0):a[o]={char:e[o],color:"gris"}}return a},D=()=>{const e=i.value.join("").toLowerCase();if(e.length!==n.value.length)return;const t=x(e,n.value);r.value.push(t),e===n.value?(h.value=!0,v.value=!0,localStorage.setItem("rodle-jugado-"+p(),"true")):r.value.length>=5&&(v.value=!0,localStorage.setItem("rodle-jugado-"+p(),"true")),i.value=[]},j=e=>{if(v.value)return;const t=e.key.toLowerCase();/^[a-z√±√°√©√≠√≥√∫√º]$/.test(t)&&i.value.length<n.value.length?i.value.push(t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")):e.key==="Backspace"?i.value.pop():e.key==="Enter"&&i.value.length===n.value.length&&D()},R=(e,t)=>r.value[e]&&r.value[e][t]?r.value[e][t].color:"",I=(e,t)=>{var a,s,o;return r.value[e]?((s=(a=r.value[e][t])==null?void 0:a.char)==null?void 0:s.toUpperCase())||"":e===r.value.length&&((o=i.value[t])==null?void 0:o.toUpperCase())||""};return B(async()=>{const e=p();if(f.value=localStorage.getItem("rodle-jugado-"+e)==="true",f.value)w(),setInterval(w,1e3);else try{const a=await(await fetch("/OnceRojo/Rodle.json")).json();a[e]&&(n.value=a[e].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}catch(t){console.error("Error cargando Rodle.json:",t)}window.addEventListener("keydown",j)}),E(()=>{window.removeEventListener("keydown",j)}),(e,t)=>(c(),l("div",$,[t[3]||(t[3]=u("h2",{class:"titulo-juego mb-4 animate-slide-in"},"üü• Rodle üü•",-1)),f.value?(c(),l("div",F,[t[0]||(t[0]=u("p",{class:"fs-5"},"Ya jugaste hoy. Volv√© en:",-1)),u("h3",N,y(_.value),1)])):n.value?(c(),l("div",z,[t[1]||(t[1]=u("p",{class:"mb-3 fs-5"},"Adivin√° el apellido del jugador üî§",-1)),u("div",M,[(c(),l(S,null,k(5,a=>u("div",{key:a,class:"fila"},[(c(!0),l(S,null,k(n.value.length,s=>(c(),l("div",{key:s,class:C(["letra",R(a-1,s-1)])},y(I(a-1,s-1)),3))),128))])),64))]),v.value?(c(),l("div",T,[u("p",{class:C(["fs-5",h.value?"text-success":"text-danger"])},y(h.value?"‚úÖ ¬°Correcto!":`‚ùå Era: ${n.value}`),3)])):U("",!0)])):(c(),l("div",V,t[2]||(t[2]=[u("p",{class:"text-warning"},"No hay Rodle cargado para hoy.",-1)])))]))}},J=L(b,[["__scopeId","data-v-ab02819f"]]);export{J as default};
