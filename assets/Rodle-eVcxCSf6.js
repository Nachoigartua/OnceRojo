import{_ as L,b as d,d as $,j as B,c as l,a as u,t as m,f as F,F as j,r as k,n as C,o as c}from"./index-CGt2cdSo.js";const N={class:"rodle-container text-white text-center px-3"},U={key:0},z={class:"reloj"},A={key:1},M={class:"grilla"},T={key:0,class:"mt-4"},V={key:2},H={__name:"Rodle",setup(O){const n=d([]),r=d(""),v=d(!1),f=d(!1),h=d(!1),y=d(""),i=d([]),p=()=>{const e=new Date;return e.setUTCHours(3,0,0,0),e.toISOString().slice(0,10)},_=()=>{const e=new Date,t=new Date;t.setUTCHours(27,0,0,0);const o=t-e,s=String(Math.floor(o/(1e3*60*60))).padStart(2,"0"),a=String(Math.floor(o/(1e3*60)%60)).padStart(2,"0"),g=String(Math.floor(o/1e3%60)).padStart(2,"0");y.value=`${s}:${a}:${g}`},S=(e,t)=>{const o=[],s=Array(t.length).fill(!1);for(let a=0;a<t.length;a++)e[a]===t[a]?(o.push({char:e[a],color:"verde"}),s[a]=!0):o.push(null);for(let a=0;a<t.length;a++){if(o[a])continue;const g=t.split("").findIndex((I,E)=>I===e[a]&&!s[E]);g!==-1?(o[a]={char:e[a],color:"naranja"},s[g]=!0):o[a]={char:e[a],color:"gris"}}return o},x=()=>{const e=i.value.join("").toLowerCase();if(e.length!==r.value.length)return;const t=S(e,r.value);n.value.push(t),e===r.value?(f.value=!0,v.value=!0,localStorage.setItem("rodle-jugado-"+p(),"true")):n.value.length>=5&&(v.value=!0,localStorage.setItem("rodle-jugado-"+p(),"true")),i.value=[]},w=e=>{if(v.value)return;const t=e.key.toLowerCase();/^[a-z√±√°√©√≠√≥√∫√º]$/.test(t)&&i.value.length<r.value.length?i.value.push(t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")):e.key==="Backspace"?i.value.pop():e.key==="Enter"&&i.value.length===r.value.length&&x()},R=(e,t)=>n.value[e]&&n.value[e][t]?n.value[e][t].color:"",D=(e,t)=>{var o,s,a;return n.value[e]?((s=(o=n.value[e][t])==null?void 0:o.char)==null?void 0:s.toUpperCase())||"":e===n.value.length&&((a=i.value[t])==null?void 0:a.toUpperCase())||""};return $(async()=>{const e=p();if(h.value=localStorage.getItem("rodle-jugado-"+e)==="true",h.value)_(),setInterval(_,1e3);else try{const o=await(await fetch("/OnceRojo/Rodle.json")).json();o[e]&&(r.value=o[e].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}catch(t){console.error("Error cargando Rodle.json:",t)}window.addEventListener("keydown",w)}),B(()=>{window.removeEventListener("keydown",w)}),(e,t)=>(c(),l("div",N,[t[3]||(t[3]=u("h2",{class:"titulo-juego mb-4 animate-slide-in"},"üü• Rodle üü•",-1)),h.value?(c(),l("div",U,[t[0]||(t[0]=u("p",{class:"fs-5"},"Ya jugaste hoy. Volv√© en:",-1)),u("h3",z,m(y.value),1)])):r.value?(c(),l("div",A,[t[1]||(t[1]=u("p",{class:"mb-3 fs-5"},"Adivin√° el apellido del jugador üî§",-1)),u("div",M,[(c(),l(j,null,k(5,o=>u("div",{key:o,class:"fila"},[(c(!0),l(j,null,k(r.value.length,s=>(c(),l("div",{key:s,class:C(["letra",R(o-1,s-1)])},m(D(o-1,s-1)),3))),128))])),64))]),v.value?(c(),l("div",T,[u("p",{class:C(["fs-5",f.value?"text-success":"text-danger"])},m(f.value?"‚úÖ ¬°Correcto!":`‚ùå Era: ${r.value}`),3)])):F("",!0)])):(c(),l("div",V,t[2]||(t[2]=[u("p",{class:"text-warning"},"No hay Rodle cargado para hoy.",-1)])))]))}},J=L(H,[["__scopeId","data-v-9c8322f9"]]);export{J as default};
